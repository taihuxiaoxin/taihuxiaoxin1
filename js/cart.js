"use strict";function setli(){var n,o,a,c,d,t=window.localStorage.getItem("cart");null===t||0===JSON.parse(t).length?$(".box").html("您的购物车已被清空"):(c=!(a=o=n=0),d='\n        <div class="nav">\n            <label><input type="checkbox" name="all">全选</label>\n        </div>\n        <ul>\n        ',(t=JSON.parse(t)).forEach(function(t){!1===t.buy&&(c=!1),!0===t.buy&&(n++,o+=t.num*t.goods_price,a+=t.num),d+='\n            <li>\n            <div class="inp">\n                <input type="checkbox" name="other" goods_id='.concat(t.goods_id,"  ").concat(t.buy?"checked":"",'>\n            </div>\n            <div class="img">\n                <img src="').concat(t.goods_big_logo,'" alt="">\n            </div>\n            <div class="right">\n                <h3>').concat(t.goods_name,'</h3>\n                <div class="r-b">\n                <span>￥').concat(t.goods_price,'</span>\n                <div class="num">\n                    <button name="-" goods_id=').concat(t.goods_id," ").concat(t.num<=1?"disabled":"",'>-</button>\n                    <input type="text" disabled value="').concat(t.num,'" name="num" goods_id=').concat(t.goods_id,'>\n                    <button name="+" goods_id=').concat(t.goods_id," ").concat(t.num>=t.number?"disabled":"",'>+</button>\n                </div> \n            </div>\n            </div>\n            <div class="del">\n            <button id="del" name="del" goods_id=').concat(t.goods_id,">删除商品</button>\n            </div>\n        </li>\n            ")}),d+="\n        </ul>\n        <p>您买了".concat(n,"种商品，共").concat(a,"个,一共").concat(o.toFixed(2),"元</p>\n        "),$(".box").html(d),$('[name="all"]').prop("checked",c))}setli(),$(".box").click(function(o){var a=JSON.parse(window.localStorage.getItem("cart"));"all"===$(o.target).attr("name")&&a.forEach(function(t){t.buy=$(o.target).prop("checked")}),"other"===$(o.target).attr("name")&&a.forEach(function(t){t.goods_id==$(o.target).attr("goods_id")&&(t.buy=$(o.target).prop("checked"))}),"-"===$(o.target).attr("name")&&a.forEach(function(t){t.goods_id==$(o.target).attr("goods_id")&&t.num--}),"+"===$(o.target).attr("name")&&a.forEach(function(t){t.goods_id==$(o.target).attr("goods_id")&&t.num++}),"del"===$(o.target).attr("name")&&a.forEach(function(t,n){t.goods_id==$(o.target).attr("goods_id")&&a.splice(n,1)}),window.localStorage.setItem("cart",JSON.stringify(a)),setli()});