"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var l=i[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var Lunb=function(){function t(e,i){_classCallCheck(this,t),this.ele=e,this.arr=i,this.oul=this.ele.querySelector("ul"),this.ool=this.ele.querySelector("ol"),this.er=this.ele.querySelector(".er"),this.index=1,this.oolli,this.oulli,this.liw,this.olength=this.arr.length,this.time,this.bool=!0}return _createClass(t,[{key:"init",value:function(){this.setli(),this.autoloop(),this.mouseout(),this.oclick(),this.hid()}},{key:"setli",value:function(){var t=this;this.arr.forEach(function(e,i){t.oul.innerHTML+='<li num="'.concat(i,'"><img src="images/').concat(e.path,'"></li>'),t.ool.innerHTML+='<li num="'.concat(i,0===i?'" name="olli" class="active"></li>':'" name="olli"></li>')}),this.oolli=this.ool.querySelectorAll("li"),this.oulli=this.oul.querySelectorAll("li");var e=this.oulli[0].cloneNode(!0),i=this.oulli[this.olength-1].cloneNode(!0);this.oul.appendChild(e),this.oul.insertBefore(i,this.oulli[0]),this.liw=this.oulli[0].offsetWidth,this.oul.style.width=(this.olength+2)*this.liw+"px",this.oul.style.left=-this.liw+"px"}},{key:"mouseout",value:function(){var e=this;this.ele.addEventListener("mouseenter",function(){clearInterval(e.time)}),this.ele.addEventListener("mouseleave",function(){e.autoloop()})}},{key:"autoloop",value:function(){var e=this;this.time=setInterval(function(){e.index++,e.ofuc(),move(e.oul,{left:-e.index*e.liw},e.endloop.bind(e))},3e3)}},{key:"endloop",value:function(){this.index===this.olength+1?(this.index=1,this.oul.style.left=-this.index*this.liw+"px"):0===this.index&&(this.index=this.olength,this.oul.style.left=-this.index*this.liw+"px"),this.bool=!0}},{key:"ofuc",value:function(){this.oolli.forEach(function(e,i){myRemoveClass(e,"active")}),0===this.index?this.oolli[this.olength-1].className+=" active":this.index===this.olength+1?this.oolli[0].className+=" active":this.oolli[this.index-1].className+=" active"}},{key:"oclick",value:function(){var i=this;this.ele.addEventListener("click",function(e){"l"===(e=e||window.event).target.className?i.bool&&(i.bool=!1,i.index--,i.ofuc(),move(i.oul,{left:-i.index*i.liw},i.endloop.bind(i))):"r"===e.target.className?i.bool&&(i.bool=!1,i.index++,i.ofuc(),move(i.oul,{left:-i.index*i.liw},i.endloop.bind(i))):"olli"===e.target.getAttribute("name")&&i.bool&&(i.bool=!1,i.index=+e.target.getAttribute("num")+1,i.ofuc(),move(i.oul,{left:-i.index*i.liw},i.endloop.bind(i)))})}},{key:"hid",value:function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?clearInterval(e.time):"visible"===document.visibilityState&&e.autoloop()})}}]),t}();